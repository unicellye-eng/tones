<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ููุชุจุฉ ูุบูุงุช ููููุณู ุชูููููุฌู โ ุงุณุชูุน ููุนุงููุฉ 15 ุซุงููุฉ ูุงุทูุจ ุงูุงุดุชุฑุงู ุจุณูููุฉ." />
  <meta property="og:title" content="ููุชุจุฉ ูุบูุงุช ููููุณู ุชูููููุฌู" />
  <meta property="og:description" content="ุงุณุชูุน ููุนุงููุฉ 15 ุซุงููุฉ ูุงุทูุจ ุงูุงุดุชุฑุงู ุจุณูููุฉ." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="logo.png" />
  <meta name="theme-color" content="#083866" />
  <title>ููุชุจุฉ ูุบูุงุช ููููุณู ุชูููููุฌู</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="/manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="logo.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* Icon font fallback (final fix): avoid external SVG/PNG issues */
    .social a { display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:12px; }
    .social a i { font-size:22px; line-height:1; }
    .contact-chip .contact-ico.fa { display:inline-flex; width:40px; height:40px; align-items:center; justify-content:center; border-radius:12px; }
    .contact-chip .contact-ico.fa i { font-size:22px; line-height:1; }
  </style>

</head>
<body>
  <div class="app">

    <!-- ูุธูุฑ ููุท ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
    <header class="header" id="homeHeader">
      <div class="brand">
        <div class="brand-logo" aria-label="Logo">
          <img src="logo.png" alt="Unicell Logo" onerror="this.style.display='none';document.getElementById('logoFallback').style.display='grid';">
          <div id="logoFallback" class="logo-fallback" style="display:none">๐ต</div>
        </div>

        <h1 class="title">ูุบูุชูโฆ ุชูููุนู ุงูุตูุชู </h1>
        <p class="subtitle"> ุงุณุชูุน ููุฑูุงุ ุซู ูุนูู ุงููุบูุฉ ุงูุชู ุฃุนุฌุจุชู ุจุฎุทูุฉ ูุงุญุฏุฉ.</p>
</div>

      <div class="divider"></div>
    </header>

    <main class="main">
      <div class="container">

        <!-- ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: ุงูุฃูุณุงู -->
        <section id="viewCategories" class="view">
          <div id="categoriesGrid" class="grid categories-grid"></div>
        </section>

        <!-- ุตูุญุฉ ุงููุงุฆูุฉ: ูุบูุงุช ุงููุณู -->
        <section id="viewList" class="view hidden">
          <div class="topbar">
<div class="topbar-text"><h2 id="listTitle" class="section-badge section-title" style="margin:0;"></h2></div>
            
          </div>

          <!-- ูุธูุฑ ููุท ูู (ุฃุฏุนูุฉ ุจุงูุงุณู) ู (ุฑุฏูุฏ ุขููุฉ ุจุงูุงุณู) -->
          <div id="listSearchWrap" class="search-wrap hidden" aria-label="ุจุญุซ ุจุงูุงุณู">
            <input id="listSearchInput" class="search-input" type="search" placeholder="ุงุจุญุซ ุจุงูุงุณู..." autocomplete="off" />
          </div>

          <div id="listGrid" class="grid list-grid"></div>
        </section>

        <!-- ุตูุญุฉ ุงูุชูุงุตูู -->
        <section id="viewDetails" class="view hidden">
          <div class="topbar">
<div class="topbar-text"><h2  class="section-title" style="margin:0;">ุชูุงุตูู ุงููุบูุฉ</h2></div>
            
          </div>

          <div class="card details-card">
            <div id="detailsName" class="details-name"></div>

            <!-- ุงูุถุบุท ุนูู ุงูุตูุฑุฉ = ุชุดุบูู/ุฅููุงู -->
            <div class="media" id="mediaToggle" tabindex="0" aria-label="ุชุดุบูู ุฃู ุฅููุงู">
              <img id="detailsImage" class="media-img" src="" alt="">
            </div>

            <audio id="detailsAudio" preload="none" playsinline></audio>

            <div class="card-soft sub">
              <h3 class="sub-title">ุงูุงุดุชุฑุงู</h3>
              <p class="sub-hint">ุงุฎุชุฑ ุงูุดุฑูุฉ ุซู ุงุถุบุท โุงุดุชุฑุงูโ ููุชุญ ุฑุณุงูุฉ SMS ุชููุงุฆููุง.</p>
              <div id="subsGrid" class="subs-grid"></div>
              <div id="toast" class="toast"></div>
            </div>
          </div>
        </section>

      </div>
    </main>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="card footer-card">

      <h3 class="footer-title">ููุชูุงุตู</h3>
      <p class="footer-sub">ูุญู ููุง ููุณุงุนุฏุชู โ ุชูุงุตู ูุนูุง ุนุจุฑ ุงูุงุชุตุงู ุฃู ูุงุชุณุงุจ.</p>

      
      <div class="contact-grid">
        <a class="contact-chip" href="tel:736000600" aria-label="ุงูุงุชุตุงู">
          <span class="contact-ico">๐</span>
          <span class="contact-txt">
            <span class="contact-label">ุงุชุตู ุจูุง</span>
            <span class="contact-value">736000600</span>
          </span>
        </a>

        <a class="contact-chip" href="https://wa.me/967736000600" target="_blank" rel="noopener" aria-label="ูุงุชุณุงุจ">
          <span class="contact-ico fa"><i class="fa-brands fa-whatsapp"></i></span>
          <span class="contact-txt">
            <span class="contact-label sr-only">ูุงุชุณุงุจ</span>
            <span class="contact-value">736000600</span>
          </span>
        </a>

        <a class="contact-chip" href="mailto:info@unicell.com.ye" aria-label="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
          <span class="contact-ico">โ๏ธ</span>
          <span class="contact-txt">
            <span class="contact-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</span>
            <span class="contact-value">info@unicell.com.ye</span>
          </span>
        </a>
      </div>

        <div class="raw-contacts">
          ๐ฌ ูุงุชุณุงุจ :
          <a href="https://wa.me/967736000600" target="_blank" rel="noopener">
            736000600
          </a>
        </div>

        <div class="raw-contacts">
          โ๏ธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู :
          <a href="mailto:info@unicell.com.ye">info@unicell.com.ye</a>
        </div>

        <div>

      </div>

      <!-- Social Icons -->
      <div class="social" aria-label="Social Links">
        <a href="https://www.instagram.com/Unicellye" aria-label="Instagram" target="_blank" rel="noopener">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="https://t.me/Unicellye" aria-label="Telegram" target="_blank" rel="noopener">
          <i class="fa-brands fa-telegram"></i>
        </a>
        <a href="https://x.com/Unicellye" aria-label="X" target="_blank" rel="noopener">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
        <a href="https://www.youtube.com/@Unicellye" aria-label="YouTube" target="_blank" rel="noopener">
          <i class="fa-brands fa-youtube"></i>
        </a>
        <a href="https://www.facebook.com/Unicellye" aria-label="Facebook" target="_blank" rel="noopener">
          <i class="fa-brands fa-facebook-f"></i>
        </a>
      </div>

      <p class="footer-note">
        ยฉ <span id="year"></span> ููููุณู ุชูููููุฌู 
      </p>

    </div>
  </div>
</footer>
<script src="data.js" defer></script>
<script src="app.js" defer></script>
<script>
  // PWA: Service Worker registration (safe)
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("/service-worker.js").catch(() => {});
    });
  }
</script>
<!-- PWA Install Banner (Text + Button) -->
<div id="pwa-install-banner" style="display:none;position:fixed;left:12px;right:12px;bottom:12px;z-index:9999;background:#083866;color:#fff;border-radius:12px;padding:8px 10px;box-shadow:0 8px 18px rgba(0,0,0,.22);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;max-width:420px;margin:0 auto">
  <div style="display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap">
    <div style="line-height:1.45">
      <div style="font-weight:700;font-size:14px">ุซุจูุช ุงูุชุทุจูู</div>
      <div style="opacity:.9;font-size:12.5px">ูููุตูู ุงูุณุฑูุน ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ</div>
    </div>
    <div style="display:flex;gap:6px;align-items:center">
      <button id="pwa-install-btn" style="border:0;border-radius:10px;padding:7px 10px;font-weight:700;font-size:13px;cursor:pointer">ุชุซุจูุช</button>
      <button id="pwa-dismiss-btn" style="border:1px solid rgba(255,255,255,.35);background:transparent;color:#fff;border-radius:10px;padding:7px 10px;font-size:13px;cursor:pointer">ูุงุญููุง</button>
    </div>
  </div>

  <!-- iOS instructions -->
  <div id="ios-a2hs" style="display:none;margin-top:8px;opacity:.95;font-size:12.5px;line-height:1.6">
    ุนูู iPhone: ุงูุชุญ ุงููููุน ูู Safari ุซู ุงุถุบุท ุฒุฑ ุงููุดุงุฑูุฉ (Share) ูุงุฎุชุฑ <b>ุฅุถุงูุฉ ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ</b>.
  </div>
</div>

<script>
  // Custom install UI: show AFTER 60 seconds from opening (smaller banner)
  let deferredPrompt = null;
  let showScheduled = false;

  const banner = document.getElementById("pwa-install-banner");
  const installBtn = document.getElementById("pwa-install-btn");
  const dismissBtn = document.getElementById("pwa-dismiss-btn");
  const iosHint = document.getElementById("ios-a2hs");

  function isIOS() {
    return /iphone|ipad|ipod/i.test(navigator.userAgent);
  }

  function scheduleShow() {
    if (showScheduled) return;
    showScheduled = true;

    setTimeout(() => {
      // Show on iOS with instructions, or on Android when prompt is available
      if (isIOS()) {
        banner.style.display = "block";
        iosHint.style.display = "block";
        installBtn.style.display = "none";
        return;
      }
      if (deferredPrompt) {
        banner.style.display = "block";
        iosHint.style.display = "none";
        installBtn.style.display = "inline-block";
      }
    }, 20000); // ุจุนุฏ 20 ุซุงููุฉ
  }

  // Always schedule from first load
  
const INSTALL_COOLDOWN_24H = 24 * 60 * 60 * 1000;
const lastDismiss = localStorage.getItem("pwa_install_dismiss");
if (!lastDismiss || Date.now() - Number(lastDismiss) > INSTALL_COOLDOWN_24H) {
  scheduleShow();
}


  // Chrome/Edge/Samsung Internet: capture prompt but don't show immediately
  window.addEventListener("beforeinstallprompt", (e) => {
    e.preventDefault();
    deferredPrompt = e;
    
const INSTALL_COOLDOWN_24H = 24 * 60 * 60 * 1000;
const lastDismiss = localStorage.getItem("pwa_install_dismiss");
if (!lastDismiss || Date.now() - Number(lastDismiss) > INSTALL_COOLDOWN_24H) {
  scheduleShow();
}

  });

  installBtn.addEventListener("click", async () => {
    if (!deferredPrompt) return;

    deferredPrompt.prompt();
    await deferredPrompt.userChoice; // accepted/dismissed
    deferredPrompt = null;
    banner.style.display = "none";
  });

  dismissBtn.addEventListener("click", () => {
    localStorage.setItem("pwa_install_dismiss", Date.now());
    banner.style.display = "none";
  });
</script>


<!-- Offline Hint -->
<div id="offline-hint" style="
  display:none;
  position:fixed;
  top:60px;
  right:12px;
  left:12px;
  margin:auto;
  max-width:420px;
  background:#222;
  color:#fff;
  border-radius:10px;
  padding:10px 12px;
  font-size:13px;
  text-align:center;
  z-index:9998;
  box-shadow:0 4px 14px rgba(0,0,0,.35)
">
  โ๏ธ ุฃูุช ุบูุฑ ูุชุตู ุจุงูุฅูุชุฑูุช. ุงููุบูุงุช ุงูุชู ูู ุชูุดุบููู ุณุงุจููุง ูุฏ ูุง ุชุนูู.
</div>

<script>
  const offlineHint = document.getElementById("offline-hint");
  function updateOffline() {
    offlineHint.style.display = navigator.onLine ? "none" : "block";
  }
  window.addEventListener("online", updateOffline);
  window.addEventListener("offline", updateOffline);
  updateOffline();
</script>


<script>
/* UI_MAX_HELPERS: ุชุญุณููุงุช ูุงุฌูุฉ ููุท ุจุฏูู ุชุบููุฑ ุงูููุทู */
(function(){
  // Improve toast copy feedback if toast() exists
  function flashCopied(){
    try { toast("โ ุชู ุงููุณุฎ"); } catch(_) {}
  }
  const copyBtn = document.getElementById("btnCopyCode");
  if (copyBtn){
    copyBtn.addEventListener("click", () => setTimeout(flashCopied, 50));
  }

  // Skeleton while list loads (if listGrid exists)
  const grid = document.getElementById("tonesGrid") || document.getElementById("listGrid");
  if (grid && !grid.dataset.skeleton){
    grid.dataset.skeleton = "1";
    const make = () => {
      const sk = document.createElement("div");
      sk.className = "skeleton-wrap";
      sk.innerHTML = Array.from({length:6}).map(()=>`
        <div class="skeleton-card">
          <div class="sk-line sk-title"></div>
          <div class="sk-line sk-sub"></div>
        </div>
      `).join("");
      return sk;
    };
    const sk = make();
    grid.parentNode.insertBefore(sk, grid);
    const obs = new MutationObserver(() => {
      if (grid.children.length > 0){
        sk.remove();
        obs.disconnect();
      }
    });
    obs.observe(grid, {childList:true});
  }
})();
</script>


</body>
</html>