:root{
  --bg:#070A11;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.09);
  --txt:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --blue:#2563EB;
  --blue2:#3B82F6;
  --radius:26px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  background-color: #070A11;
  margin:0;
  font-family: system-ui, -apple-system, "Tajawal", "Segoe UI", Arial, sans-serif;
  color:var(--txt);
  background: linear-gradient(180deg, #05070d 0%, #070A11 100%);
  overflow-x:hidden;
}
.safe-top{padding-top: env(safe-area-inset-top)}
.safe-bottom{padding-bottom: env(safe-area-inset-bottom)}
.app{max-width:740px;margin:0 auto;padding:14px 14px 26px}
.top{display:flex;align-items:center;gap:12px;justify-content:flex-start;padding:18px 10px 10px}
.icon-btn{
  width:46px;height:46px;border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--txt);
  display:grid;place-items:center;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.icon-btn.sm{width:40px;height:40px;border-radius:16px;box-shadow: 0 12px 28px rgba(0,0,0,.35);line-height:1}
.titles{flex:1;min-width:0;text-align:right}
.h1{font-size:22px;font-weight:800}
.h2{font-size:12px;color:var(--muted);margin-top:4px}
.music-badge{
  width:56px;height:56px;border-radius:18px;
  background: radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.22), transparent 55%),
              linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
  display:grid;place-items:center;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.music-badge .note{font-size:26px}
.tabs-wrap{padding:6px 2px 10px}
.tabs{display:flex;gap:10px;overflow:auto;scrollbar-width:none;padding:2px 2px 8px}
.tabs::-webkit-scrollbar{display:none}
.tab{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--txt);
  padding:10px 16px;
  border-radius:18px;
  font-weight:700;
  white-space:nowrap;
  opacity:.92;
}
.tab.active{
  background: linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
  border-color: rgba(37,99,235,.35);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.search-wrap{padding:0 2px 12px}
.search{
  position:relative;
  border-radius:24px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  padding:14px 14px 14px 44px;
}
.search input{width:100%;border:0;outline:0;background:transparent;color:var(--txt);font-size:15px}
.search input::placeholder{color:rgba(255,255,255,.45)}
.search .search-ic{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:rgba(255,255,255,.55);font-size:18px}
.content{padding:4px 2px 20px}
.section-head{display:flex;align-items:center;justify-content:space-between;margin:10px 4px 12px}
.section-title{font-size:18px;font-weight:800}
.pill{
  font-size:12px;color:rgba(255,255,255,.7);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  padding:8px 12px;border-radius:999px;
}
.list{display:flex;flex-direction:column;gap:14px}
.card{
  flex-direction: row-reverse;

  border-radius:var(--radius); border:1px solid var(--stroke);
  background: rgba(255,255,255,.035);
  padding:16px;
  display:flex;align-items:center;gap:14px;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.btn-col{display:flex;flex-direction:column;gap:10px;min-width:110px}
.btn-sub{
  padding: 12px 16px;
  border-radius:18px;
  border:1px solid rgba(59,130,246,.35);
  background: linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
  color:#fff;font-weight:900;font-size: 13px;
}
.btn-play{
  padding:8px 10px;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  color:var(--txt);
  font-weight:800;font-size:12px;
}
.btn-sub:active,.btn-play:active{transform:scale(.98)}
.meta{flex:1;min-width:0;text-align:right}
.title{font-size:17px;font-weight:900;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;line-height:1.25}
.sub{margin-top:4px;font-size:12px;color:rgba(255,255,255,.62);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.thumb{
  width:80px;height:80px;border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.06);
  overflow:hidden;
}
.thumb img{width:100%;height:100%;object-fit:cover;display:block;image-rendering:auto}
.modal.hidden{display:none}
.modal{position:fixed;inset:0;z-index:99}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(6px)}
.modal-card{
  position:relative;
  width:min(560px, calc(100% - 28px));
  margin: 12vh auto 0;
  border-radius:28px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(10, 12, 18, .92);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
  overflow:hidden;
}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 10px}
.modal-title{font-weight:900;font-size:16px}
.modal-body{padding:8px 10px 4px;color:rgba(255,255,255,.8);font-size:12px;line-height:1.7}
.modal-foot{display:flex;gap:10px;padding:9px 10px 14px}
.btn{flex:1;padding:9px 10px;border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);color:var(--txt);font-weight:900}
.btn.primary{background:linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));border-color:rgba(37,99,235,.35);color:#fff}
.btn.ghost{background:rgba(255,255,255,.03)}
.carriers{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.carrier-row{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  border:1px solid var(--stroke);background:rgba(255,255,255,.03);
  padding:12px;border-radius:18px;
}
.c-left{display:flex;align-items:center;gap:10px}
.c-left img{width:34px;height:34px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06)}
.c-meta{display:flex;flex-direction:column;gap:2px}
.c-name{font-weight:900}
.c-sub{font-size:12px;color:rgba(255,255,255,.65)}
.c-btn{
  padding:10px 12px;border-radius:16px;
  border:1px solid rgba(59,130,246,.35);
  background: linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
  color:#fff;font-weight:900;font-size:12px;
}
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  padding:8px 10px;border-radius:999px;
  border:1px solid var(--stroke);background:rgba(0,0,0,.55);backdrop-filter:blur(8px);
  color:rgba(255,255,255,.9);font-size:12px;z-index:120;
}


/* Carrier colors */
.c-btn.yemen{background:#E11D48;border-color:#E11D48}   /* red */
.c-btn.sabafon{background:#2563EB;border-color:#2563EB}/* blue */
.c-btn.you{background:#FACC15;border-color:#FACC15;color:#000} /* yellow */

.logo-badge{
  width:56px;height:56px;border-radius:20px;
  background: radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.22), transparent 55%),
              linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
  display:grid;place-items:center;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
  overflow:hidden;
}
.logo-badge img{width:100%;height:100%;object-fit:contain;padding:10px}


/* Play overlay */
.thumb{position:relative}
.play-overlay{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  background: rgba(0,0,0,.18);
  opacity:0;
  transition: opacity .15s ease;
}
.card:active .play-overlay{opacity:1}
.play-btn{
  width:44px;height:44px;border-radius:16px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
  display:grid;place-items:center;
  color:#fff;
  font-size:18px;
}

/* Layout swap tweaks */
.thumb{margin-left:12px;margin-right:0}
.btn-sub{margin-right:12px}

/* modal no footer */
.modal-body{padding-bottom:16px}


/* --- optimistic touches + interaction --- */
.card{
  transition: transform .12s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
}
.card:active{transform: scale(.992)}
@media (hover:hover){
  .card:hover{
    border-color: rgba(59,130,246,.22);
    box-shadow: 0 16px 36px rgba(37,99,235,.16), 0 14px 30px rgba(0,0,0,.35);
    background: linear-gradient(180deg, rgba(255,255,255,.050), rgba(255,255,255,.030));
  }
}
/* little cheerful accent */
.card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: var(--radius);
  pointer-events:none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
}
.card{
  position:relative;
  overflow:hidden;
}
.card::after{
  content:"";
  position:absolute;
  top:-40px; left:-40px;
  width:140px; height:140px;
  background: radial-gradient(circle at 30% 30%, rgba(59,130,246,.18), transparent 65%);
  opacity:.75;
  pointer-events:none;
}

/* Tap image to play/pause */
.thumb{cursor:pointer}
.play-overlay{opacity:1; background: rgba(0,0,0,.12)} /* always visible but subtle */
.play-btn{
  width:42px;height:42px;border-radius:16px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.30);
  backdrop-filter: blur(6px);
  display:grid;place-items:center;
  color:#fff;
  font-size:18px;
  transition: transform .12s ease, background .18s ease;
}
.thumb:active .play-btn{transform: scale(.96)}

/* Playing state */
.card.playing{
  border-color: rgba(59,130,246,.55);
  box-shadow: 0 18px 40px rgba(37,99,235,.20), 0 14px 30px rgba(0,0,0,.35);
}
.card.playing::after{
  background: radial-gradient(circle at 30% 30%, rgba(59,130,246,.22), transparent 65%);
}
.card.playing .play-btn{
  background: rgba(37,99,235,.22);
  border-color: rgba(59,130,246,.35);
}


/* extra touch feel */
.thumb:active img{filter: brightness(1.06);}
.card:active::before{box-shadow: inset 0 0 0 1px rgba(59,130,246,.10);}


/* --- play icon: unobtrusive --- */
.play-overlay{opacity:0 !important; pointer-events:none;}
.play-btn{pointer-events:none;}
/* show only while playing or during press */
.card.playing .play-overlay{opacity:1 !important;}
.thumb:active .play-overlay{opacity:1 !important;}

/* === Patch: hide play icon overlay completely === */
.play-overlay, .play-btn { 
  display: none !important;
  pointer-events: none !important;
}

/* === Patch: stronger playing glow + pulse === */
@keyframes pulseGlowBlue {
  0%   { box-shadow: 0 0 0 1px rgba(59,130,246,.40), 0 16px 40px rgba(37,99,235,.18), 0 14px 30px rgba(0,0,0,.42); }
  50%  { box-shadow: 0 0 0 3px rgba(59,130,246,.70), 0 22px 52px rgba(37,99,235,.28), 0 16px 34px rgba(0,0,0,.45); }
  100% { box-shadow: 0 0 0 1px rgba(59,130,246,.40), 0 16px 40px rgba(37,99,235,.18), 0 14px 30px rgba(0,0,0,.42); }
}
.card.playing{
  border-color: rgba(59,130,246,.80) !important;
  animation: pulseGlowBlue 1.35s ease-in-out infinite;
}
.card.playing::after{
  opacity: 1 !important;
  background: radial-gradient(circle at 30% 30%, rgba(59,130,246,.28), transparent 64%) !important;
}
@media (prefers-reduced-motion: reduce){
  .card.playing{ animation:none !important; }
}
